/*!
 * # Fomantic-UI - Toast
 * http://github.com/fomantic/Fomantic-UI/
 *
 *
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,n,t,o){"use strict";e.isFunction=e.isFunction||function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},n=void 0!==n&&n.Math==Math?n:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.toast=function(n){var t,s=e(this),a=s.selector||"",i=(new Date).getTime(),c=[],r=arguments[0],l="string"==typeof r,u=[].slice.call(arguments,1);return s.each(function(){var s,d,p,f,m,g,h,v,b=e.isPlainObject(n)?e.extend(!0,{},e.fn.toast.settings,n):e.extend({},e.fn.toast.settings),C=b.className,y=b.selector,w=b.error,k=b.namespace,x=b.fields,T="."+k,I=k+"-module",P=e(this),O=e(b.context?b.context:"body"),A=P.hasClass("toast")||P.hasClass("message")||P.hasClass("card"),M=this,E=A?P.data(I):o;v={initialize:function(){v.verbose("Initializing element"),v.has.container()||v.create.container(),(A||""!==b.message||""!==b.title||""!==v.get.iconClass()||b.showImage||v.has.configActions())&&("string"==typeof b.showProgress&&-1!==[C.top,C.bottom].indexOf(b.showProgress)||(b.showProgress=!1),v.create.toast(),b.closeOnClick&&(b.closeIcon||e(d).find(y.input).length>0||v.has.configActions())&&(b.closeOnClick=!1),b.closeOnClick||s.addClass(C.unclickable),v.bind.events()),v.instantiate(),s&&v.show()},instantiate:function(){v.verbose("Storing instance of toast"),E=v,P.data(I,E)},destroy:function(){s&&(v.debug("Removing toast",s),v.unbind.events(),s.remove(),s=o,d=o,g=o,b.onRemove.call(s,M),f=o,m=o,h=o),P.removeData(I)},show:function(e){if(e=e||function(){},v.debug("Showing toast"),!1===b.onShow.call(s,M))return void v.debug("onShow callback returned false, cancelling toast animation");v.animate.show(e)},close:function(e){e=e||function(){},v.remove.visible(),v.unbind.events(),v.animate.close(e)},create:{container:function(){v.verbose("Creating container"),O.append(e("<div/>",{"class":b.position+" "+C.container}))},toast:function(){if(s=e("<div/>",{"class":C.box}),A)d=b.cloneModule?P.clone().removeAttr("id"):P,h=d.find("> i"+v.helpers.toClass(C.close)),b.closeIcon=h.length>0;else{v.verbose("Creating toast"),d=e("<div/>");var n=e("<div/>",{"class":C.content}),t=v.get.iconClass();""!==t&&d.append(e("<i/>",{"class":t+" "+C.icon})),b.showImage&&d.append(e("<img>",{"class":C.image+" "+b.classImage,src:b.showImage})),""!==b.title&&n.append(e("<div/>",{"class":C.title,text:b.title})),n.append(e("<div/>",{html:v.helpers.escape(b.message,b.preserveHTML)})),d.addClass(b["class"]+" "+C.toast).append(n),d.css("opacity",b.opacity),b.closeIcon&&(h=e("<i/>",{"class":C.close+" "+("string"==typeof b.closeIcon?b.closeIcon:"")}),h.hasClass(C.left)?d.prepend(h):d.append(h))}if(d.hasClass(C.compact)&&(b.compact=!0),d.hasClass("card")&&(b.compact=!1),p=d.find(".actions"),v.has.configActions()&&(0===p.length&&(p=e("<div/>",{"class":C.actions+" "+(b.classActions||"")}).appendTo(d)),d.hasClass("card")&&!p.hasClass(C.attached)&&(p.addClass(C.extraContent),p.hasClass(C.vertical)&&(p.removeClass(C.vertical),v.error(w.verticalCard))),b.actions.forEach(function(n){var t=n[x.icon]?'<i class="'+v.helpers.deQuote(n[x.icon])+' icon"></i>':"",o=v.helpers.escape(n[x.text]||"",b.preserveHTML),s=v.helpers.deQuote(n[x["class"]]||""),a=n[x.click]&&e.isFunction(n[x.click])?n[x.click]:function(){};p.append(e("<button/>",{html:t+o,"class":C.button+" "+s,click:function(){!1!==a.call(M,P)&&v.close()}}))})),p&&p.hasClass(C.vertical)&&d.addClass(C.vertical),p.length>0&&!p.hasClass(C.attached)&&(!p||p.hasClass(C.basic)&&!p.hasClass(C.left)||d.addClass(C.actions)),"auto"===b.displayTime&&(b.displayTime=Math.max(b.minDisplayTime,d.text().split(" ").length/b.wordsPerMinute*6e4)),s.append(d),p.length>0&&p.hasClass(C.attached)&&(p.addClass(C.buttons),p.detach(),d.addClass(C.attached),p.hasClass(C.vertical)?(d.wrap(e("<div/>",{"class":C.vertical+" "+C.attached+" "+(b.compact?C.compact:"")})),p.hasClass(C.left)?d.addClass(C.left).parent().addClass(C.left).prepend(p):d.parent().append(p)):p.hasClass(C.top)?(s.prepend(p),d.addClass(C.bottom)):(s.append(p),d.addClass(C.top))),P!==d&&(P=d,M=d[0]),b.displayTime>0){var o=C.progressing+" "+(b.pauseOnHover?C.pausable:"");b.showProgress&&(f=e("<div/>",{"class":C.progress+" "+(b.classProgress||b["class"]),"data-percent":""}),b.classProgress||(d.hasClass("toast")&&!d.hasClass(C.inverted)?f.addClass(C.inverted):f.removeClass(C.inverted)),m=e("<div/>",{"class":"bar "+(b.progressUp?"up ":"down ")+o}),f.addClass(b.showProgress).append(m),f.hasClass(C.top)?s.prepend(f):s.append(f),m.css("animation-duration",b.displayTime/1e3+"s")),g=e("<span/>",{"class":"wait "+o}),g.css("animation-duration",b.displayTime/1e3+"s"),g.appendTo(d)}b.compact&&(s.addClass(C.compact),d.addClass(C.compact),f&&f.addClass(C.compact)),b.newestOnTop?s.prependTo(v.get.container()):s.appendTo(v.get.container())}},bind:{events:function(){v.debug("Binding events to toast"),(b.closeOnClick||b.closeIcon)&&(b.closeIcon?h:d).on("click"+T,v.event.click),g&&g.on("animationend"+T,v.close),s.on("click"+T,y.approve,v.event.approve).on("click"+T,y.deny,v.event.deny)}},unbind:{events:function(){v.debug("Unbinding events to toast"),(b.closeOnClick||b.closeIcon)&&(b.closeIcon?h:d).off("click"+T),g&&g.off("animationend"+T),s.off("click"+T)}},animate:{show:function(n){n=e.isFunction(n)?n:function(){},b.transition&&v.can.useElement("transition")&&P.transition("is supported")&&(v.set.visible(),s.transition({animation:b.transition.showMethod+" in",queue:!1,debug:b.debug,verbose:b.verbose,duration:b.transition.showDuration,onComplete:function(){n.call(s,M),b.onVisible.call(s,M)}}))},close:function(n){if(n=e.isFunction(n)?n:function(){},v.debug("Closing toast"),!1===b.onHide.call(s,M))return void v.debug("onHide callback returned false, cancelling toast animation");b.transition&&e.fn.transition!==o&&P.transition("is supported")?s.transition({animation:b.transition.hideMethod+" out",queue:!1,duration:b.transition.hideDuration,debug:b.debug,verbose:b.verbose,interval:50,onBeforeHide:function(n){n=e.isFunction(n)?n:function(){},""!==b.transition.closeEasing?(s.css("opacity",0),s.wrap("<div/>").parent().slideUp(500,b.transition.closeEasing,function(){s&&(s.parent().remove(),n.call(s))})):n.call(s)},onComplete:function(){n.call(s,M),b.onHidden.call(s,M),v.destroy()}}):v.error(w.noTransition)},pause:function(){g.css("animationPlayState","paused"),m&&m.css("animationPlayState","paused")},"continue":function(){g.css("animationPlayState","running"),m&&m.css("animationPlayState","running")}},has:{container:function(){return v.verbose("Determining if there is already a container"),O.find(v.helpers.toClass(b.position)+y.container).length>0},toast:function(){return!!v.get.toast()},toasts:function(){return v.get.toasts().length>0},configActions:function(){return Array.isArray(b.actions)&&b.actions.length>0}},get:{container:function(){return O.find(v.helpers.toClass(b.position)+y.container)[0]},toastBox:function(){return s||null},toast:function(){return d||null},toasts:function(){return e(v.get.container()).find(y.box)},iconClass:function(){return"string"==typeof b.showIcon?b.showIcon:b.showIcon&&b.icons[b["class"]]?b.icons[b["class"]]:""},remainingTime:function(){return g?g.css("opacity")*b.displayTime:0}},set:{visible:function(){d.addClass(C.visible)}},remove:{visible:function(){d.removeClass(C.visible)}},event:{click:function(n){0===e(n.target).closest("a").length&&(b.onClick.call(s,M),v.close())},approve:function(){if(!1===b.onApprove.call(M,P))return void v.verbose("Approve callback returned false cancelling close");v.close()},deny:function(){if(!1===b.onDeny.call(M,P))return void v.verbose("Deny callback returned false cancelling close");v.close()}},helpers:{toClass:function(e){var n=e.split(" "),t="";return n.forEach(function(e){t+="."+e}),t},deQuote:function(e){return String(e).replace(/"/g,"")},escape:function(e,n){if(n)return e;var t=/[<>"'`]/g,o=/[&<>"'`]/,s={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},a=function(e){return s[e]};return o.test(e)?(e=e.replace(/&(?![a-z0-9#]{1,6};)/,"&amp;"),e.replace(t,a)):e}},can:{useElement:function(n){return e.fn[n]!==o||(v.error(w.noElement.replace("{element}",n)),!1)}},setting:function(n,t){if(v.debug("Changing setting",n,t),e.isPlainObject(n))e.extend(!0,b,n);else{if(t===o)return b[n];e.isPlainObject(b[n])?e.extend(!0,b[n],t):b[n]=t}},internal:function(n,t){if(e.isPlainObject(n))e.extend(!0,v,n);else{if(t===o)return v[n];v[n]=t}},debug:function(){!b.silent&&b.debug&&(b.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,b.name+":"),v.debug.apply(console,arguments)))},verbose:function(){!b.silent&&b.verbose&&b.debug&&(b.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,b.name+":"),v.verbose.apply(console,arguments)))},error:function(){b.silent||(v.error=Function.prototype.bind.call(console.error,console,b.name+":"),v.error.apply(console,arguments))},performance:{log:function(e){var n,t,o;b.performance&&(n=(new Date).getTime(),o=i||n,t=n-o,i=n,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:M,"Execution Time":t})),clearTimeout(v.performance.timer),v.performance.timer=setTimeout(v.performance.display,500)},display:function(){var n=b.name+":",t=0;i=!1,clearTimeout(v.performance.timer),e.each(c,function(e,n){t+=n["Execution Time"]}),n+=" "+t+"ms",a&&(n+=" '"+a+"'"),(console.group!==o||console.table!==o)&&c.length>0&&(console.groupCollapsed(n),console.table?console.table(c):e.each(c,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(n,s,a){var i,c,r,l=E;return s=s||u,a=M||a,"string"==typeof n&&l!==o&&(n=n.split(/[\. ]/),i=n.length-1,e.each(n,function(t,s){var a=t!=i?s+n[t+1].charAt(0).toUpperCase()+n[t+1].slice(1):n;if(e.isPlainObject(l[a])&&t!=i)l=l[a];else{if(l[a]!==o)return c=l[a],!1;if(!e.isPlainObject(l[s])||t==i)return l[s]!==o?(c=l[s],!1):(v.error(w.method,n),!1);l=l[s]}})),e.isFunction(c)?r=c.apply(a,s):c!==o&&(r=c),Array.isArray(t)?t.push(r):t!==o?t=[t,r]:r!==o&&(t=r),c}},l?(E===o&&v.initialize(),v.invoke(r)):(E!==o&&E.invoke("destroy"),v.initialize(),t=P)}),t!==o?t:this},e.fn.toast.settings={name:"Toast",namespace:"toast",silent:!1,debug:!1,verbose:!1,performance:!0,context:"body",position:"top right","class":"neutral",classProgress:!1,classActions:!1,classImage:"mini",title:"",message:"",displayTime:3e3,minDisplayTime:1e3,wordsPerMinute:120,showIcon:!1,newestOnTop:!1,showProgress:!1,pauseOnHover:!0,progressUp:!1,opacity:1,compact:!0,closeIcon:!1,closeOnClick:!0,cloneModule:!0,actions:!1,preserveHTML:!0,showImage:!1,transition:{showMethod:"scale",showDuration:500,hideMethod:"scale",hideDuration:500,closeEasing:"easeOutCubic"},error:{method:"The method you called is not defined.",noElement:"This module requires ui {element}",verticalCard:"Vertical but not attached actions are not supported for card layout"},className:{container:"ui toast-container",box:"floating toast-box",progress:"ui attached active progress",toast:"ui toast",icon:"centered icon",visible:"visible",content:"content",title:"ui header",actions:"actions",extraContent:"extra content",button:"ui button",buttons:"ui buttons",close:"close icon",image:"ui image",vertical:"vertical",attached:"attached",inverted:"inverted",compact:"compact",pausable:"pausable",progressing:"progressing",top:"top",bottom:"bottom",left:"left",basic:"basic",unclickable:"unclickable"},icons:{info:"info",success:"checkmark",warning:"warning",error:"times"},selector:{container:".ui.toast-container",box:".toast-box",toast:".ui.toast",input:'input:not([type="hidden"]), textarea, select, button, .ui.button, ui.dropdown',approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel"},fields:{"class":"class",text:"text",icon:"icon",click:"click"},onShow:function(){},onVisible:function(){},onClick:function(){},onHide:function(){},onHidden:function(){},onRemove:function(){},onApprove:function(){},onDeny:function(){}},e.extend(e.easing,{easeOutBounce:function(e,n,t,o,s){return(n/=s)<1/2.75?o*(7.5625*n*n)+t:n<2/2.75?o*(7.5625*(n-=1.5/2.75)*n+.75)+t:n<2.5/2.75?o*(7.5625*(n-=2.25/2.75)*n+.9375)+t:o*(7.5625*(n-=2.625/2.75)*n+.984375)+t},easeOutCubic:function(e){return--e*e*e+1}})}(jQuery,window,document);