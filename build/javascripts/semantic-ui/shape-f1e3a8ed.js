/*!
 * # Fomantic-UI - Shape
 * http://github.com/fomantic/Fomantic-UI/
 *
 *
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,t,i,n){"use strict";e.isFunction=e.isFunction||function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.shape=function(o){var a,r=e(this),s=(new Date).getTime(),d=[],l=arguments[0],c="string"==typeof l,u=[].slice.call(arguments,1),f=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return r.each(function(){var t,g,h,m=r.selector||"",p=e.isPlainObject(o)?e.extend(!0,{},e.fn.shape.settings,o):e.extend({},e.fn.shape.settings),v=p.namespace,b=p.selector,x=p.error,y=p.className,w="."+v,C="module-"+v,S=e(this),T=S.find(">"+b.sides),W=T.find(">"+b.side),z=!1,A=this,E=S.data(C);if(h={initialize:function(){h.verbose("Initializing module for",A),h.set.defaultSide(),h.instantiate()},instantiate:function(){h.verbose("Storing instance of module",h),E=h,S.data(C,E)},destroy:function(){h.verbose("Destroying previous module for",A),S.removeData(C).off(w)},refresh:function(){h.verbose("Refreshing selector cache for",A),S=e(A),T=e(this).find(b.sides),W=e(this).find(b.side)},repaint:function(){h.verbose("Forcing repaint event");var e=T[0]||i.createElement("div");e.offsetWidth},animate:function(e,i){h.verbose("Animating box with properties",e),i=i||function(e){h.verbose("Executing animation callback"),e!==n&&e.stopPropagation(),h.reset(),h.set.active()},p.beforeChange.call(g[0]),h.get.transitionEvent()?(h.verbose("Starting CSS animation"),S.addClass(y.animating),T.css(e).one(h.get.transitionEvent(),i),h.set.duration(p.duration),f(function(){S.addClass(y.animating),t.addClass(y.hidden)})):i()},queue:function(e){h.debug("Queueing animation of",e),T.one(h.get.transitionEvent(),function(){h.debug("Executing queued animation"),setTimeout(function(){S.shape(e)},0)})},reset:function(){h.verbose("Animating states reset"),S.removeClass(y.animating).attr("style","").removeAttr("style"),T.attr("style","").removeAttr("style"),W.attr("style","").removeAttr("style").removeClass(y.hidden),g.removeClass(y.animating).attr("style","").removeAttr("style")},is:{complete:function(){return W.filter("."+y.active)[0]==g[0]},animating:function(){return S.hasClass(y.animating)},hidden:function(){return S.closest(":hidden").length>0}},set:{defaultSide:function(){t=W.filter("."+p.className.active),g=t.next(b.side).length>0?t.next(b.side):W.first(),z=!1,h.verbose("Active side set to",t),h.verbose("Next side set to",g)},duration:function(e){e=e||p.duration,e="number"==typeof e?e+"ms":e,h.verbose("Setting animation duration",e),(p.duration||0===p.duration)&&T.add(W).css({"-webkit-transition-duration":e,"-moz-transition-duration":e,"-ms-transition-duration":e,"-o-transition-duration":e,"transition-duration":e})},currentStageSize:function(){var e=W.filter("."+p.className.active),t=e.outerWidth(!0),i=e.outerHeight(!0);S.css({width:t,height:i})},stageSize:function(){var e=S.clone().addClass(y.loading),t=e.find(">"+b.sides+">"+b.side),i=t.filter("."+p.className.active),n=z?t.eq(z):i.next(b.side).length>0?i.next(b.side):t.first(),o="next"===p.width?n.outerWidth(!0):"initial"===p.width?S.width():p.width,a="next"===p.height?n.outerHeight(!0):"initial"===p.height?S.height():p.height;i.removeClass(y.active),n.addClass(y.active),e.insertAfter(S),e.remove(),"auto"!==p.width&&(S.css("width",o+p.jitter),h.verbose("Specifying width during animation",o)),"auto"!==p.height&&(S.css("height",a+p.jitter),h.verbose("Specifying height during animation",a))},nextSide:function(e){z=e,g=W.filter(e),z=W.index(g),0===g.length&&(h.set.defaultSide(),h.error(x.side)),h.verbose("Next side manually set to",g)},active:function(){h.verbose("Setting new side to active",g),W.removeClass(y.active),g.addClass(y.active),p.onChange.call(g[0]),h.set.defaultSide()}},flip:{to:function(e,t){if(h.is.hidden())return void h.debug("Module not visible",g);if(h.is.complete()&&!h.is.animating()&&!p.allowRepeats)return void h.debug("Side already visible",g);var i=h.get.transform[e]();h.is.animating()?h.queue("flip "+e):(h.debug("Flipping "+e,g),h.set.stageSize(),h.stage[t](),h.animate(i))},up:function(){h.flip.to("up","above")},down:function(){h.flip.to("down","below")},left:function(){h.flip.to("left","left")},right:function(){h.flip.to("right","right")},over:function(){h.flip.to("over","behind")},back:function(){h.flip.to("back","behind")}},get:{transform:{up:function(){var e=t.outerHeight(!0)/2;return{transform:"translateY("+(g.outerHeight(!0)-e)+"px) translateZ(-"+e+"px) rotateX(-90deg)"}},down:function(){var e={z:t.outerHeight(!0)/2};return{transform:"translateY(-"+e.z+"px) translateZ(-"+e.z+"px) rotateX(90deg)"}},left:function(){var e=t.outerWidth(!0)/2;return{transform:"translateX("+(g.outerWidth(!0)-e)+"px) translateZ(-"+e+"px) rotateY(90deg)"}},right:function(){var e={z:t.outerWidth(!0)/2};return{transform:"translateX(-"+e.z+"px) translateZ(-"+e.z+"px) rotateY(-90deg)"}},over:function(){return{transform:"translateX("+{x:-(t.outerWidth(!0)-g.outerWidth(!0))/2}.x+"px) rotateY(180deg)"}},back:function(){return{transform:"translateX("+{x:-(t.outerWidth(!0)-g.outerWidth(!0))/2}.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var e,t=i.createElement("element"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in o)if(t.style[e]!==n)return o[e]},nextSide:function(){return t.next(b.side).length>0?t.next(b.side):W.first()}},stage:{above:function(){var e={origin:(t.outerHeight(!0)-g.outerHeight(!0))/2,depth:{active:g.outerHeight(!0)/2,next:t.outerHeight(!0)/2}};h.verbose("Setting the initial animation position as above",g,e),t.css({transform:"rotateX(0deg)"}),g.addClass(y.animating).css({top:e.origin+"px",transform:"rotateX(90deg) translateZ("+e.depth.next+"px) translateY(-"+e.depth.active+"px)"})},below:function(){var e={origin:(t.outerHeight(!0)-g.outerHeight(!0))/2,depth:{active:g.outerHeight(!0)/2,next:t.outerHeight(!0)/2}};h.verbose("Setting the initial animation position as below",g,e),t.css({transform:"rotateX(0deg)"}),g.addClass(y.animating).css({top:e.origin+"px",transform:"rotateX(-90deg) translateZ("+e.depth.next+"px) translateY("+e.depth.active+"px)"})},left:function(){var e={active:t.outerWidth(!0),next:g.outerWidth(!0)},i={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};h.verbose("Setting the initial animation position as left",g,i),t.css({transform:"rotateY(0deg)"}),g.addClass(y.animating).css({left:i.origin+"px",transform:"rotateY(-90deg) translateZ("+i.depth.next+"px) translateX(-"+i.depth.active+"px)"})},right:function(){var e={active:t.outerWidth(!0),next:g.outerWidth(!0)},i={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};h.verbose("Setting the initial animation position as right",g,i),t.css({transform:"rotateY(0deg)"}),g.addClass(y.animating).css({left:i.origin+"px",transform:"rotateY(90deg) translateZ("+i.depth.next+"px) translateX("+i.depth.active+"px)"})},behind:function(){var e={active:t.outerWidth(!0),next:g.outerWidth(!0)},i={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};h.verbose("Setting the initial animation position as behind",g,i),t.css({transform:"rotateY(0deg)"}),g.addClass(y.animating).css({left:i.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(t,i){if(h.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,p,t);else{if(i===n)return p[t];e.isPlainObject(p[t])?e.extend(!0,p[t],i):p[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(i===n)return h[t];h[t]=i}},debug:function(){!p.silent&&p.debug&&(p.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,p.name+":"),h.debug.apply(console,arguments)))},verbose:function(){!p.silent&&p.verbose&&p.debug&&(p.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),h.verbose.apply(console,arguments)))},error:function(){p.silent||(h.error=Function.prototype.bind.call(console.error,console,p.name+":"),h.error.apply(console,arguments))},performance:{log:function(e){var t,i,n;p.performance&&(t=(new Date).getTime(),n=s||t,i=t-n,s=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:A,"Execution Time":i})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var t=p.name+":",i=0;s=!1,clearTimeout(h.performance.timer),e.each(d,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",m&&(t+=" '"+m+"'"),r.length>1&&(t+=" ("+r.length+")"),(console.group!==n||console.table!==n)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,i,o){var r,s,d,l=E;return i=i||u,o=A||o,"string"==typeof t&&l!==n&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(i,o){var a=i!=r?o+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[a])&&i!=r)l=l[a];else{if(l[a]!==n)return s=l[a],!1;if(!e.isPlainObject(l[o])||i==r)return l[o]!==n&&(s=l[o],!1);l=l[o]}})),e.isFunction(s)?d=s.apply(o,i):s!==n&&(d=s),Array.isArray(a)?a.push(d):a!==n?a=[a,d]:d!==n&&(a=d),s}},c){E===n&&h.initialize();var Y=S.find("input");Y.length>0?(Y.blur(),setTimeout(function(){h.invoke(l)},150)):h.invoke(l)}else E!==n&&E.invoke("destroy"),h.initialize()}),a!==n?a:this},e.fn.shape.settings={name:"Shape",silent:!1,debug:!1,verbose:!1,jitter:0,performance:!0,namespace:"shape",width:"initial",height:"initial",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:!1,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document);