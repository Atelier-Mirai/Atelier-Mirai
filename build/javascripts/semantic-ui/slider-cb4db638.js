/*!
 * # Fomantic-UI - Slider
 * http://github.com/fomantic/Fomantic-UI/
 *
 *
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,t,n,a){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.slider=function(r){var o,s=e(this),i=e(t),u=s.selector||"",l=(new Date).getTime(),c=[],d=arguments[0],m="string"==typeof d,f=[].slice.call(arguments,1),v=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],g=1,h=2,b=0,p=-1,k=-2,V=0;return s.each(function(){var t,s,w,T,y,M,x,P,E,C,L,A,F,S,D,O,N=e.isPlainObject(r)?e.extend(!0,{},e.fn.slider.settings,r):e.extend({},e.fn.slider.settings),j=N.className,z=N.metadata,I=N.namespace,R=N.error,B=N.keys,U=N.interpretLabel,X=!1,Y="."+I,K="module-"+I,G=e(this),Q=this,H=G.data(K),J=1;O={initialize:function(){O.debug("Initializing slider",N),D=!0,V+=1,x=V,F=O.setup.testOutTouch(),O.setup.layout(),O.setup.labels(),O.is.disabled()||O.bind.events(),O.read.metadata(),O.read.settings(),D=!1,O.instantiate()},instantiate:function(){O.verbose("Storing instance of slider",O),H=O,G.data(K,O)},destroy:function(){O.verbose("Destroying previous slider for",G),clearInterval(H.interval),O.unbind.events(),O.unbind.slidingEvents(),G.removeData(K),H=a},setup:{layout:function(){G.attr("tabindex")===a&&G.attr("tabindex",0),0==G.find(".inner").length&&G.append("<div class='inner'><div class='track'></div><div class='track-fill'></div><div class='thumb'></div></div>"),A=O.get.precision(),s=G.find(".thumb:not(.second)"),t=s,O.is.range()&&(0==G.find(".thumb.second").length&&G.find(".inner").append("<div class='thumb second'></div>"),w=G.find(".thumb.second")),T=G.find(".track"),y=G.find(".track-fill"),L=s.width()/2},labels:function(){O.is.labeled()&&(M=G.find(".labels:not(.auto)"),0!=M.length?O.setup.customLabel():O.setup.autoLabel(),N.showLabelTicks&&G.addClass(j.ticked))},testOutTouch:function(){try{return n.createEvent("TouchEvent"),!0}catch(e){return!1}},customLabel:function(){var t,n=M.find(".label"),a=n.length,r=O.get.min(),o=O.get.max();n.each(function(n){var s=e(this),i=s.attr("data-value");i?(i=i>o?o:i<r?r:i,t=(i-r)/(o-r)):t=(n+1)/(a+1),O.update.labelPosition(t,e(this))})},autoLabel:function(){if(0!=O.get.step()){M=G.find(".labels"),0!=M.length?M.empty():M=G.append('<ul class="auto labels"></ul>').find(".labels");for(var t=0,n=O.get.numLabels();t<=n;t++){var a=O.get.label(t),r=""!==a?e(t%O.get.gapRatio()?'<li class="halftick label"></li>':'<li class="label">'+a+"</li>"):null,o=t/n;r&&(O.update.labelPosition(o,r),M.append(r))}}}},bind:{events:function(){O.bind.globalKeyboardEvents(),O.bind.keyboardEvents(),O.bind.mouseEvents(),O.is.touch()&&O.bind.touchEvents(),N.autoAdjustLabels&&O.bind.windowEvents()},keyboardEvents:function(){O.verbose("Binding keyboard events"),G.on("keydown"+Y,O.event.keydown)},globalKeyboardEvents:function(){e(n).on("keydown"+Y+x,O.event.activateFocus)},mouseEvents:function(){O.verbose("Binding mouse events"),G.find(".track, .thumb, .inner").on("mousedown"+Y,function(e){e.stopImmediatePropagation(),e.preventDefault(),O.event.down(e)}),G.on("mousedown"+Y,O.event.down),G.on("mouseenter"+Y,function(){X=!0}),G.on("mouseleave"+Y,function(){X=!1})},touchEvents:function(){O.verbose("Binding touch events"),G.find(".track, .thumb, .inner").on("touchstart"+Y,function(e){e.stopImmediatePropagation(),e.preventDefault(),O.event.down(e)}),G.on("touchstart"+Y,O.event.down)},slidingEvents:function(){O.verbose("Binding page wide events while handle is being draged"),O.is.touch()?(e(n).on("touchmove"+Y,O.event.move),e(n).on("touchend"+Y,O.event.up)):(e(n).on("mousemove"+Y,O.event.move),e(n).on("mouseup"+Y,O.event.up))},windowEvents:function(){i.on("resize"+Y,O.event.resize)}},unbind:{events:function(){G.find(".track, .thumb, .inner").off("mousedown"+Y),G.find(".track, .thumb, .inner").off("touchstart"+Y),G.off("mousedown"+Y),G.off("mouseenter"+Y),G.off("mouseleave"+Y),G.off("touchstart"+Y),G.off("keydown"+Y),G.off("focusout"+Y),e(n).off("keydown"+Y+x,O.event.activateFocus),i.off("resize"+Y)},slidingEvents:function(){O.is.touch()?(e(n).off("touchmove"+Y),e(n).off("touchend"+Y)):(e(n).off("mousemove"+Y),e(n).off("mouseup"+Y))}},event:{down:function(e){if(e.preventDefault(),O.is.range()){var n=O.determine.eventPos(e),r=O.determine.pos(n);N.preventCrossover&&O.is.range()&&O.thumbVal===O.secondThumbVal?(S=r,t=a):t=O.determine.closestThumb(r)}O.is.disabled()||O.bind.slidingEvents()},move:function(e){e.preventDefault();var n=O.determine.valueFromEvent(e);if(t===a){var r=O.determine.eventPos(e),o=O.determine.pos(r);t=S>o?s:w}if(0==O.get.step()||O.is.smooth()){var i=O.thumbVal,u=O.secondThumbVal,l=O.determine.smoothValueFromEvent(e);t.hasClass("second")?(N.preventCrossover&&O.is.range()&&(n=Math.max(i,n),l=Math.max(i,l)),u=n):(N.preventCrossover&&O.is.range()&&(n=Math.min(u,n),l=Math.min(u,l)),i=n),n=Math.abs(i-(u||0)),O.update.position(l),N.onMove.call(Q,n,i,u)}else O.update.value(n,function(e,t,n){N.onMove.call(Q,e,t,n)})},up:function(e){e.preventDefault();var t=O.determine.valueFromEvent(e);O.set.value(t),O.unbind.slidingEvents()},keydown:function(r,o){if(N.preventCrossover&&O.is.range()&&O.thumbVal===O.secondThumbVal&&(t=a),O.is.focused()&&e(n).trigger(r),o||O.is.focused()){var s=O.determine.keyMovement(r);if(s!=b)switch(r.preventDefault(),s){case g:O.takeStep();break;case h:O.takeStep(O.get.multiplier());break;case p:O.backStep();break;case k:O.backStep(O.get.multiplier())}}},activateFocus:function(e){!O.is.focused()&&O.is.hover()&&O.determine.keyMovement(e)!=b&&(e.preventDefault(),O.event.keydown(e,!0),G.focus())},resize:function(){J!=O.get.gapRatio()&&(O.setup.labels(),J=O.get.gapRatio())}},resync:function(){O.verbose("Resyncing thumb position based on value"),O.is.range()&&O.update.position(O.secondThumbVal,w),O.update.position(O.thumbVal,s),O.setup.labels()},takeStep:function(e){var e=e!=a?e:1,t=O.get.step(),n=O.get.currentThumbValue();if(O.verbose("Taking a step"),t>0)O.set.value(n+t*e);else if(0==t){var r=O.get.precision(),o=n+e/r;O.set.value(Math.round(o*r)/r)}},backStep:function(e){var e=e!=a?e:1,t=O.get.step(),n=O.get.currentThumbValue();if(O.verbose("Going back a step"),t>0)O.set.value(n-t*e);else if(0==t){var r=O.get.precision(),o=n-e/r;O.set.value(Math.round(o*r)/r)}},is:{range:function(){return G.hasClass(N.className.range)},hover:function(){return X},focused:function(){return G.is(":focus")},disabled:function(){return G.hasClass(N.className.disabled)},labeled:function(){return G.hasClass(N.className.labeled)},reversed:function(){return G.hasClass(N.className.reversed)},vertical:function(){return G.hasClass(N.className.vertical)},smooth:function(){return N.smooth||G.hasClass(N.className.smooth)},touch:function(){return F}},get:{trackOffset:function(){return O.is.vertical()?T.offset().top:T.offset().left},trackLength:function(){return O.is.vertical()?T.height():T.width()},trackLeft:function(){return O.is.vertical()?T.position().top:T.position().left},trackStartPos:function(){return O.is.reversed()?O.get.trackLeft()+O.get.trackLength():O.get.trackLeft()},trackEndPos:function(){return O.is.reversed()?O.get.trackLeft():O.get.trackLeft()+O.get.trackLength()},trackStartMargin:function(){return(O.is.vertical()?O.is.reversed()?G.css("padding-bottom"):G.css("padding-top"):O.is.reversed()?G.css("padding-right"):G.css("padding-left"))||"0px"},trackEndMargin:function(){return(O.is.vertical()?O.is.reversed()?G.css("padding-top"):G.css("padding-bottom"):O.is.reversed()?G.css("padding-left"):G.css("padding-right"))||"0px"},precision:function(){var e,t=O.get.step();if(0!=t){var n=String(t).split(".");e=2==n.length?n[1].length:0}else e=N.decimalPlaces;var a=Math.pow(10,e);return O.debug("Precision determined",a),a},min:function(){return N.min},max:function(){var e=O.get.step(),t=O.get.min(),n=0===e?0:Math.floor((N.max-t)/e);return 0==(0===e?0:(N.max-t)%e)?N.max:t+n*e},step:function(){return N.step},numLabels:function(){var e=Math.round((O.get.max()-O.get.min())/O.get.step());return O.debug("Determined that there should be "+e+" labels"),e},labelType:function(){return N.labelType},label:function(e){if(U)return U(e);switch(N.labelType){case N.labelTypes.number:return Math.round((e*O.get.step()+O.get.min())*A)/A;case N.labelTypes.letter:return v[e%26];default:return e}},value:function(){return P},currentThumbValue:function(){return t!==a&&t.hasClass("second")?O.secondThumbVal:O.thumbVal},thumbValue:function(e){switch(e){case"second":if(O.is.range())return O.secondThumbVal;O.error(R.notrange);break;case"first":default:return O.thumbVal}},multiplier:function(){return N.pageMultiplier},thumbPosition:function(e){switch(e){case"second":if(O.is.range())return C;O.error(R.notrange);break;case"first":default:return E}},gapRatio:function(){var e=1;if(N.autoAdjustLabels){var t=O.get.numLabels(),n=O.get.trackLength(),a=1;if(n>0)for(;n/t*a<N.labelDistance;)t%a||(e=a),a+=1}return e}},determine:{pos:function(e){return O.is.reversed()?O.get.trackStartPos()-e+O.get.trackOffset():e-O.get.trackOffset()-O.get.trackStartPos()},closestThumb:function(e){var t=parseFloat(O.determine.thumbPos(s)),n=Math.abs(e-t),a=parseFloat(O.determine.thumbPos(w)),r=Math.abs(e-a);return n===r&&O.get.thumbValue()===O.get.min()?w:n<=r?s:w},closestThumbPos:function(e){var t=parseFloat(O.determine.thumbPos(s)),n=Math.abs(e-t),a=parseFloat(O.determine.thumbPos(w));return n<=Math.abs(e-a)?t:a},thumbPos:function(e){return O.is.vertical()?O.is.reversed()?e.css("bottom"):e.css("top"):O.is.reversed()?e.css("right"):e.css("left")},positionFromValue:function(e){var t=O.get.min(),n=O.get.max(),e=e>n?n:e<t?t:e,a=O.get.trackLength(),r=(e-t)/(n-t),o=Math.round(r*a);return O.verbose("Determined position: "+o+" from value: "+e),o},positionFromRatio:function(e){var t=O.get.trackLength(),n=O.get.step(),a=Math.round(e*t);return 0==n?a:Math.round(a/n)*n},valueFromEvent:function(e){var t=O.determine.eventPos(e),n=O.determine.pos(t);return t<O.get.trackOffset()?O.is.reversed()?O.get.max():O.get.min():t>O.get.trackOffset()+O.get.trackLength()?O.is.reversed()?O.get.min():O.get.max():O.determine.value(n)},smoothValueFromEvent:function(e){var t,n=O.get.min(),a=O.get.max(),r=O.get.trackLength(),o=O.determine.eventPos(e),s=o-O.get.trackOffset();return s=s<0?0:s>r?r:s,t=s/r,O.is.reversed()&&(t=1-t),t*(a-n)+n},eventPos:function(e){if(O.is.touch()){var t=e.changedTouches?e:e.originalEvent,n=t.changedTouches[0]?t.changedTouches:t.touches,a=n[0].pageY,r=n[0].pageX;return O.is.vertical()?a:r}var o=e.pageY||e.originalEvent.pageY,s=e.pageX||e.originalEvent.pageX;return O.is.vertical()?o:s},value:function(e){var t=O.is.reversed()?O.get.trackEndPos():O.get.trackStartPos(),n=O.is.reversed()?O.get.trackStartPos():O.get.trackEndPos(),a=(e-t)/(n-t),r=O.get.max()-O.get.min(),o=O.get.step(),s=a*r,i=0==o?s:Math.round(s/o)*o;return O.verbose("Determined value based upon position: "+e+" as: "+s),s!=i&&O.verbose("Rounding value to closest step: "+i),i=Math.round(i*A)/A,O.verbose("Cutting off additional decimal places"),i+O.get.min()},keyMovement:function(e){var t=e.which,n=O.is.vertical()?O.is.reversed()?B.downArrow:B.upArrow:B.downArrow,a=O.is.vertical()?O.is.reversed()?B.upArrow:B.downArrow:B.upArrow,r=O.is.vertical()?B.leftArrow:O.is.reversed()?B.rightArrow:B.leftArrow,o=O.is.vertical()?B.rightArrow:O.is.reversed()?B.leftArrow:B.rightArrow;return t==n||t==r?p:t==a||t==o?g:t==B.pageDown?k:t==B.pageUp?h:b}},handleNewValuePosition:function(e){var t=O.get.min(),n=O.get.max();return e<=t?e=t:e>=n&&(e=n),O.determine.positionFromValue(e)},set:{value:function(e){O.update.value(e,function(e,t,n){D&&!N.fireOnInit||(N.onChange.call(Q,e,t,n),N.onMove.call(Q,e,t,n))})},rangeValue:function(e,t){if(O.is.range()){var n=O.get.min(),a=O.get.max();e<=n?e=n:e>=a&&(e=a),t<=n?t=n:t>=a&&(t=a),O.thumbVal=e,O.secondThumbVal=t,P=Math.abs(O.thumbVal-O.secondThumbVal),O.update.position(O.thumbVal,s),O.update.position(O.secondThumbVal,w),D&&!N.fireOnInit||(N.onChange.call(Q,P,O.thumbVal,O.secondThumbVal),N.onMove.call(Q,P,O.thumbVal,O.secondThumbVal))}else O.error(R.notrange)},position:function(e,t){var n=O.determine.value(e);switch(t){case"second":O.secondThumbVal=n,O.update.position(n,w);break;default:O.thumbVal=n,O.update.position(n,s)}P=Math.abs(O.thumbVal-(O.secondThumbVal||0)),O.set.value(P)}},update:{value:function(e,n){var r=O.get.min(),o=O.get.max();e<=r?e=r:e>=o&&(e=o),O.is.range()?(t===a&&(t=e<=O.get.currentThumbValue()?s:w),t.hasClass("second")?(N.preventCrossover&&O.is.range()&&(e=Math.max(O.thumbVal,e)),O.secondThumbVal=e):(N.preventCrossover&&O.is.range()&&(e=Math.min(O.secondThumbVal,e)),O.thumbVal=e),P=Math.abs(O.thumbVal-O.secondThumbVal)):(P=e,O.thumbVal=P),O.update.position(e),O.debug("Setting slider value to "+P),"function"==typeof n&&n(P,O.thumbVal,O.secondThumbVal)},position:function(e,n){var r=O.handleNewValuePosition(e),o=n!=a?n:t,s=O.thumbVal||O.get.min(),i=O.secondThumbVal||O.get.min();O.is.range()&&o.hasClass("second")?(C=r,i=e):(E=r,s=e);var u,l,c=O.get.min(),d=O.get.max(),m=100*(e-c)/(d-c),f=100*(Math.min(s,i)-c)/(d-c),v=100*(1-(Math.max(s,i)-c)/(d-c));O.is.vertical()?O.is.reversed()?(l={bottom:"calc("+m+"% - "+L+"px)",top:"auto"},u={bottom:f+"%",top:v+"%"}):(l={top:"calc("+m+"% - "+L+"px)",bottom:"auto"},u={top:f+"%",bottom:v+"%"}):O.is.reversed()?(l={right:"calc("+m+"% - "+L+"px)",left:"auto"},u={right:f+"%",left:v+"%"}):(l={left:"calc("+m+"% - "+L+"px)",right:"auto"},u={left:f+"%",right:v+"%"}),o.css(l),y.css(u),O.debug("Setting slider position to "+r)},labelPosition:function(e,t){var n=O.get.trackStartMargin(),a=O.get.trackEndMargin(),r=O.is.vertical()?O.is.reversed()?"bottom":"top":O.is.reversed()?"right":"left",o=O.is.reversed()&&!O.is.vertical()?" - ":" + ",s="(100% - "+n+" - "+a+") * "+e;t.css(r,"calc("+s+o+n+")")}},"goto":{max:function(){O.set.value(O.get.max())},min:function(){O.set.value(O.get.min())}},read:{metadata:function(){var e={thumbVal:G.data(z.thumbVal),secondThumbVal:G.data(z.secondThumbVal)};e.thumbVal&&(O.is.range()&&e.secondThumbVal?(O.debug("Current value set from metadata",e.thumbVal,e.secondThumbVal),O.set.rangeValue(e.thumbVal,e.secondThumbVal)):(O.debug("Current value set from metadata",e.thumbVal),O.set.value(e.thumbVal)))},settings:function(){!1!==N.start&&(O.is.range()?(O.debug("Start position set from settings",N.start,N.end),O.set.rangeValue(N.start,N.end)):(O.debug("Start position set from settings",N.start),O.set.value(N.start)))}},setting:function(t,n){if(O.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,N,t);else{if(n===a)return N[t];e.isPlainObject(N[t])?e.extend(!0,N[t],n):N[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,O,t);else{if(n===a)return O[t];O[t]=n}},debug:function(){!N.silent&&N.debug&&(N.performance?O.performance.log(arguments):(O.debug=Function.prototype.bind.call(console.info,console,N.name+":"),O.debug.apply(console,arguments)))},verbose:function(){!N.silent&&N.verbose&&N.debug&&(N.performance?O.performance.log(arguments):(O.verbose=Function.prototype.bind.call(console.info,console,N.name+":"),O.verbose.apply(console,arguments)))},error:function(){N.silent||(O.error=Function.prototype.bind.call(console.error,console,N.name+":"),O.error.apply(console,arguments))},performance:{log:function(e){var t,n,a;N.performance&&(t=(new Date).getTime(),a=l||t,n=t-a,l=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:Q,"Execution Time":n})),clearTimeout(O.performance.timer),O.performance.timer=setTimeout(O.performance.display,500)},display:function(){var t=N.name+":",n=0;l=!1,clearTimeout(O.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",u&&(t+=" '"+u+"'"),(console.group!==a||console.table!==a)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,r){var s,i,u,l=H;return n=n||f,r=Q||r,"string"==typeof t&&l!==a&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,r){var o=n!=s?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=s)l=l[o];else{if(l[o]!==a)return i=l[o],!1;if(!e.isPlainObject(l[r])||n==s)return l[r]!==a?(i=l[r],!1):(O.error(R.method,t),!1);l=l[r]}})),e.isFunction(i)?u=i.apply(r,n):i!==a&&(u=i),e.isArray(o)?o.push(u):o!==a?o=[o,u]:u!==a&&(o=u),i}},m?(H===a&&O.initialize(),O.invoke(d)):(H!==a&&H.invoke("destroy"),O.initialize())}),o!==a?o:this},e.fn.slider.settings={silent:!1,debug:!1,verbose:!1,performance:!0,name:"Slider",namespace:"slider",error:{method:"The method you called is not defined.",notrange:"This slider is not a range slider"},metadata:{thumbVal:"thumbVal",secondThumbVal:"secondThumbVal"},min:0,max:20,step:1,start:0,end:20,labelType:"number",showLabelTicks:!1,smooth:!1,autoAdjustLabels:!0,labelDistance:100,preventCrossover:!0,fireOnInit:!1,decimalPlaces:2,pageMultiplier:2,selector:{},className:{reversed:"reversed",disabled:"disabled",labeled:"labeled",ticked:"ticked",vertical:"vertical",range:"range",smooth:"smooth"},keys:{pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},labelTypes:{number:"number",letter:"letter"},onChange:function(){},onMove:function(){}}}(jQuery,window,document);