/*!
 * # Fomantic-UI - Modal
 * http://github.com/fomantic/Fomantic-UI/
 *
 *
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,i,n,t){"use strict";e.isFunction=e.isFunction||function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},i=void 0!==i&&i.Math==Math?i:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.modal=function(o){var r,a=e(this),s=e(i),c=e(n),l=e("body"),d=a.selector||"",u=(new Date).getTime(),m=[],f=arguments[0],g="string"==typeof f,h=[].slice.call(arguments,1),v=i.requestAnimationFrame||i.mozRequestAnimationFrame||i.webkitRequestAnimationFrame||i.msRequestAnimationFrame||function(e){setTimeout(e,0)};return a.each(function(){var a,b,p,y,w,S,C,k,x,M,F,H=e.isPlainObject(o)?e.extend(!0,{},e.fn.modal.settings,o):e.extend({},e.fn.modal.settings),T=H.selector,D=H.className,A=H.namespace,O=H.error,E="."+A,L="module-"+A,z=e(this),j=e(H.context),q=z.find(T.close),B=this,R=z.data(L),I=!1,N="",P="";F={initialize:function(){F.cache={},F.verbose("Initializing dimmer",j),F.create.id(),F.create.dimmer(),H.allowMultiple&&F.create.innerDimmer(),H.centered||z.addClass("top aligned"),F.refreshModals(),F.bind.events(),H.observeChanges&&F.observeChanges(),F.instantiate()},instantiate:function(){F.verbose("Storing instance of modal"),R=F,z.data(L,R)},create:{dimmer:function(){var i={debug:H.debug,dimmerName:"modals"},n=e.extend(!0,i,H.dimmerSettings);if(e.fn.dimmer===t)return void F.error(O.dimmer);F.debug("Creating dimmer"),y=j.dimmer(n),H.detachable?(F.verbose("Modal is detachable, moving content into dimmer"),y.dimmer("add content",z)):F.set.undetached(),w=y.dimmer("get dimmer")},id:function(){x=(Math.random().toString(16)+"000000000").substr(2,8),k="."+x,F.verbose("Creating unique id for element",x)},innerDimmer:function(){0==z.find(T.dimmer).length&&z.prepend('<div class="ui inverted dimmer"></div>')}},destroy:function(){M&&M.disconnect(),F.verbose("Destroying previous modal"),z.removeData(L).off(E),s.off(k),w.off(k),q.off(E),j.dimmer("destroy")},observeChanges:function(){"MutationObserver"in i&&(M=new MutationObserver(function(){F.debug("DOM tree modified, refreshing"),F.refresh()}),M.observe(B,{childList:!0,subtree:!0}),F.debug("Setting up mutation observer",M))},refresh:function(){F.remove.scrolling(),F.cacheSizes(),F.can.useFlex()||F.set.modalOffset(),F.set.screenHeight(),F.set.type()},refreshModals:function(){b=z.siblings(T.modal),a=b.add(z)},attachEvents:function(i,n){var t=e(i);n=e.isFunction(F[n])?F[n]:F.toggle,t.length>0?(F.debug("Attaching modal events to element",i,n),t.off(E).on("click"+E,n)):F.error(O.notFound,i)},bind:{events:function(){F.verbose("Attaching events"),z.on("click"+E,T.close,F.event.close).on("click"+E,T.approve,F.event.approve).on("click"+E,T.deny,F.event.deny),s.on("resize"+k,F.event.resize)},scrollLock:function(){y.get(0).addEventListener("touchmove",F.event.preventScroll,{passive:!1})}},unbind:{scrollLock:function(){y.get(0).removeEventListener("touchmove",F.event.preventScroll,{passive:!1})}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){if(I||!1===H.onApprove.call(B,e(this)))return void F.verbose("Approve callback returned false cancelling hide");I=!0,F.hide(function(){I=!1})},preventScroll:function(e){-1!==e.target.className.indexOf("dimmer")&&e.preventDefault()},deny:function(){if(I||!1===H.onDeny.call(B,e(this)))return void F.verbose("Deny callback returned false cancelling hide");I=!0,F.hide(function(){I=!1})},close:function(){F.hide()},mousedown:function(n){var t=e(n.target),o=F.is.rtl();S=t.closest(T.modal).length>0,S&&F.verbose("Mouse down event registered inside the modal"),(C=F.is.scrolling()&&(!o&&e(i).outerWidth()-H.scrollbarWidth<=n.clientX||o&&H.scrollbarWidth>=n.clientX))&&F.verbose("Mouse down event registered inside the scrollbar")},mouseup:function(i){if(!H.closable)return void F.verbose("Dimmer clicked but closable setting is disabled");if(S)return void F.debug("Dimmer clicked but mouse down was initially registered inside the modal");if(C)return void F.debug("Dimmer clicked but mouse down was initially registered inside the scrollbar");var t=e(i.target),o=t.closest(T.modal).length>0,r=e.contains(n.documentElement,i.target);if(!o&&r&&F.is.active()&&z.hasClass(D.front)){if(F.debug("Dimmer clicked, hiding all modals"),H.allowMultiple){if(!F.hideAll())return}else if(!F.hide())return;F.remove.clickaway()}},debounce:function(e,i){clearTimeout(F.timer),F.timer=setTimeout(e,i)},keyboard:function(e){27==e.which&&(H.closable?(F.debug("Escape key pressed hiding modal"),z.hasClass(D.front)&&F.hide()):F.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){y.dimmer("is active")&&(F.is.animating()||F.is.active())&&v(F.refresh)}},toggle:function(){F.is.active()||F.is.animating()?F.hide():F.show()},show:function(i){i=e.isFunction(i)?i:function(){},F.refreshModals(),F.set.dimmerSettings(),F.set.dimmerStyles(),F.showModal(i)},hide:function(i){return i=e.isFunction(i)?i:function(){},F.refreshModals(),F.hideModal(i)},showModal:function(i){i=e.isFunction(i)?i:function(){},F.is.animating()||!F.is.active()?(F.showDimmer(),F.cacheSizes(),F.set.bodyMargin(),F.can.useFlex()?F.remove.legacy():(F.set.legacy(),F.set.modalOffset(),F.debug("Using non-flex legacy modal positioning.")),F.set.screenHeight(),F.set.type(),F.set.clickaway(),!H.allowMultiple&&F.others.active()?F.hideOthers(F.showModal):(I=!1,H.allowMultiple&&(F.others.active()&&b.filter("."+D.active).find(T.dimmer).addClass("active"),H.detachable&&z.detach().appendTo(w)),H.onShow.call(B),H.transition&&e.fn.transition!==t&&z.transition("is supported")?(F.debug("Showing modal with css animations"),z.transition({debug:H.debug,animation:H.transition+" in",queue:H.queue,duration:H.duration,useFailSafe:!0,onComplete:function(){H.onVisible.apply(B),H.keyboardShortcuts&&F.add.keyboardShortcuts(),F.save.focus(),F.set.active(),H.autofocus&&F.set.autofocus(),i()}})):F.error(O.noTransition))):F.debug("Modal is already visible")},hideModal:function(i,n,o){var r=b.filter("."+D.active).last();if(i=e.isFunction(i)?i:function(){},F.debug("Hiding modal"),!1===H.onHide.call(B,e(this)))return F.verbose("Hide callback returned false cancelling hide"),I=!1,!1;(F.is.animating()||F.is.active())&&(H.transition&&e.fn.transition!==t&&z.transition("is supported")?(F.remove.active(),z.transition({debug:H.debug,animation:H.transition+" out",queue:H.queue,duration:H.duration,useFailSafe:!0,onStart:function(){F.others.active()||F.others.animating()||n||F.hideDimmer(),H.keyboardShortcuts&&!F.others.active()&&F.remove.keyboardShortcuts()},onComplete:function(){F.unbind.scrollLock(),H.allowMultiple&&(r.addClass(D.front),z.removeClass(D.front),o?a.find(T.dimmer).removeClass("active"):r.find(T.dimmer).removeClass("active")),H.onHidden.call(B),F.remove.dimmerStyles(),F.restore.focus(),i()}})):F.error(O.noTransition))},showDimmer:function(){y.dimmer("is animating")||!y.dimmer("is active")?(F.save.bodyMargin(),F.debug("Showing dimmer"),y.dimmer("show")):F.debug("Dimmer already visible")},hideDimmer:function(){if(!y.dimmer("is animating")&&!y.dimmer("is active"))return void F.debug("Dimmer is not visible cannot hide");F.unbind.scrollLock(),y.dimmer("hide",function(){F.restore.bodyMargin(),F.remove.clickaway(),F.remove.screenHeight()})},hideAll:function(i){var n=a.filter("."+D.active+", ."+D.animating);if(i=e.isFunction(i)?i:function(){},n.length>0){F.debug("Hiding all visible modals");var t=!0;return e(n.get().reverse()).each(function(n,o){t&&(t=e(o).modal("hide modal",i,!1,!0))}),t&&F.hideDimmer(),t}},hideOthers:function(i){var n=b.filter("."+D.active+", ."+D.animating);i=e.isFunction(i)?i:function(){},n.length>0&&(F.debug("Hiding other modals",b),n.modal("hide modal",i,!0))},others:{active:function(){return b.filter("."+D.active).length>0},animating:function(){return b.filter("."+D.animating).length>0}},add:{keyboardShortcuts:function(){F.verbose("Adding keyboard shortcuts"),c.on("keyup"+E,F.event.keyboard)}},save:{focus:function(){e(n.activeElement).closest(z).length>0||(p=e(n.activeElement).blur())},bodyMargin:function(){N=l.css("margin-"+(F.can.leftBodyScrollbar()?"left":"right"));var e=parseInt(N.replace(/[^\d.]/g,"")),t=i.innerWidth-n.documentElement.clientWidth;P=e+t}},restore:{focus:function(){p&&p.length>0&&H.restoreFocus&&p.focus()},bodyMargin:function(){var e=F.can.leftBodyScrollbar()?"left":"right";l.css("margin-"+e,N),l.find(T.bodyFixed.replace("right",e)).css("padding-"+e,N)}},remove:{active:function(){z.removeClass(D.active)},legacy:function(){z.removeClass(D.legacy)},clickaway:function(){H.detachable||z.off("mousedown"+k),w.off("mousedown"+k),w.off("mouseup"+k)},dimmerStyles:function(){w.removeClass(D.inverted),y.removeClass(D.blurring)},bodyStyle:function(){""===l.attr("style")&&(F.verbose("Removing style attribute"),l.removeAttr("style"))},screenHeight:function(){F.debug("Removing page height"),l.css("height","")},keyboardShortcuts:function(){F.verbose("Removing keyboard shortcuts"),c.off("keyup"+E)},scrolling:function(){y.removeClass(D.scrolling),z.removeClass(D.scrolling)}},cacheSizes:function(){z.addClass(D.loading);var o=z.prop("scrollHeight"),r=z.outerWidth(),a=z.outerHeight();F.cache.pageHeight!==t&&0===a||(e.extend(F.cache,{pageHeight:e(n).outerHeight(),width:r,height:a+H.offset,scrollHeight:o+H.offset,contextHeight:"body"==H.context?e(i).height():y.height()}),F.cache.topOffset=-F.cache.height/2),z.removeClass(D.loading),F.debug("Caching modal and container sizes",F.cache)},can:{leftBodyScrollbar:function(){return F.cache.leftBodyScrollbar===t&&(F.cache.leftBodyScrollbar=F.is.rtl()&&(F.is.iframe&&!F.is.firefox()||F.is.safari()||F.is.edge()||F.is.ie())),F.cache.leftBodyScrollbar},useFlex:function(){return H.useFlex&&H.detachable&&!F.is.ie()},fit:function(){var e=F.cache.contextHeight,i=F.cache.contextHeight/2,n=F.cache.topOffset,t=F.cache.scrollHeight,o=F.cache.height,r=H.padding,a=i+n;return t>o?a+t+r<e:o+2*r<e}},is:{active:function(){return z.hasClass(D.active)},ie:function(){if(F.cache.isIE===t){var e=!i.ActiveXObject&&"ActiveXObject"in i,n="ActiveXObject"in i;F.cache.isIE=e||n}return F.cache.isIE},animating:function(){return z.transition("is supported")?z.transition("is animating"):z.is(":visible")},scrolling:function(){return y.hasClass(D.scrolling)},modernBrowser:function(){return!(i.ActiveXObject||"ActiveXObject"in i)},rtl:function(){return F.cache.isRTL===t&&(F.cache.isRTL="rtl"===l.attr("dir")||"rtl"===l.css("direction")),F.cache.isRTL},safari:function(){return F.cache.isSafari===t&&(F.cache.isSafari=/constructor/i.test(i.HTMLElement)||!!i.ApplePaySession),F.cache.isSafari},edge:function(){return F.cache.isEdge===t&&(F.cache.isEdge=!!i.setImmediate&&!F.is.ie()),F.cache.isEdge},firefox:function(){return F.cache.isFirefox===t&&(F.cache.isFirefox=!!i.InstallTrigger),F.cache.isFirefox},iframe:function(){return!(self===top)}},set:{autofocus:function(){var i=z.find("[tabindex], :input").filter(":visible").filter(function(){return 0===e(this).closest(".disabled").length}),n=i.filter("[autofocus]"),t=n.length>0?n.first():i.first();t.length>0&&t.focus()},bodyMargin:function(){var e=F.can.leftBodyScrollbar()?"left":"right";(H.detachable||F.can.fit())&&l.css("margin-"+e,P+"px"),l.find(T.bodyFixed.replace("right",e)).css("padding-"+e,P+"px")},clickaway:function(){H.detachable||z.on("mousedown"+k,F.event.mousedown),w.on("mousedown"+k,F.event.mousedown),w.on("mouseup"+k,F.event.mouseup)},dimmerSettings:function(){if(e.fn.dimmer===t)return void F.error(O.dimmer);var i={debug:H.debug,dimmerName:"modals",closable:"auto",useFlex:F.can.useFlex(),duration:{show:H.duration,hide:H.duration}},n=e.extend(!0,i,H.dimmerSettings);H.inverted&&(n.variation=n.variation!==t?n.variation+" inverted":"inverted"),j.dimmer("setting",n)},dimmerStyles:function(){H.inverted?w.addClass(D.inverted):w.removeClass(D.inverted),H.blurring?y.addClass(D.blurring):y.removeClass(D.blurring)},modalOffset:function(){if(H.detachable)z.css({marginTop:!z.hasClass("aligned")&&F.can.fit()?-F.cache.height/2:H.padding/2,marginLeft:-F.cache.width/2});else{var i=F.can.fit();z.css({top:!z.hasClass("aligned")&&i?e(n).scrollTop()+(F.cache.contextHeight-F.cache.height)/2:!i||z.hasClass("top")?e(n).scrollTop()+H.padding:e(n).scrollTop()+(F.cache.contextHeight-F.cache.height-H.padding),marginLeft:-F.cache.width/2})}F.verbose("Setting modal offset for legacy mode")},screenHeight:function(){F.can.fit()?l.css("height",""):z.hasClass("bottom")||(F.debug("Modal is taller than page content, resizing page height"),l.css("height",F.cache.height+2*H.padding))},active:function(){z.addClass(D.active+" "+D.front),b.filter("."+D.active).removeClass(D.front)},scrolling:function(){y.addClass(D.scrolling),z.addClass(D.scrolling),F.unbind.scrollLock()},legacy:function(){z.addClass(D.legacy)},type:function(){F.can.fit()?(F.verbose("Modal fits on screen"),F.others.active()||F.others.animating()||(F.remove.scrolling(),F.bind.scrollLock())):z.hasClass("bottom")?F.verbose("Bottom aligned modal not fitting on screen is unsupported for scrolling"):(F.verbose("Modal cannot fit on screen setting to scrolling"),F.set.scrolling())},undetached:function(){y.addClass(D.undetached)}},setting:function(i,n){if(F.debug("Changing setting",i,n),e.isPlainObject(i))e.extend(!0,H,i);else{if(n===t)return H[i];e.isPlainObject(H[i])?e.extend(!0,H[i],n):H[i]=n}},internal:function(i,n){if(e.isPlainObject(i))e.extend(!0,F,i);else{if(n===t)return F[i];F[i]=n}},debug:function(){!H.silent&&H.debug&&(H.performance?F.performance.log(arguments):(F.debug=Function.prototype.bind.call(console.info,console,H.name+":"),F.debug.apply(console,arguments)))},verbose:function(){!H.silent&&H.verbose&&H.debug&&(H.performance?F.performance.log(arguments):(F.verbose=Function.prototype.bind.call(console.info,console,H.name+":"),F.verbose.apply(console,arguments)))},error:function(){H.silent||(F.error=Function.prototype.bind.call(console.error,console,H.name+":"),F.error.apply(console,arguments))},performance:{log:function(e){var i,n,t;H.performance&&(i=(new Date).getTime(),t=u||i,n=i-t,u=i,m.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:B,"Execution Time":n})),clearTimeout(F.performance.timer),F.performance.timer=setTimeout(F.performance.display,500)},display:function(){var i=H.name+":",n=0;u=!1,clearTimeout(F.performance.timer),e.each(m,function(e,i){n+=i["Execution Time"]}),i+=" "+n+"ms",d&&(i+=" '"+d+"'"),(console.group!==t||console.table!==t)&&m.length>0&&(console.groupCollapsed(i),console.table?console.table(m):e.each(m,function(e,i){console.log(i.Name+": "+i["Execution Time"]+"ms")}),console.groupEnd()),m=[]}},invoke:function(i,n,o){var a,s,c,l=R;return n=n||h,o=B||o,"string"==typeof i&&l!==t&&(i=i.split(/[\. ]/),a=i.length-1,e.each(i,function(n,o){var r=n!=a?o+i[n+1].charAt(0).toUpperCase()+i[n+1].slice(1):i;if(e.isPlainObject(l[r])&&n!=a)l=l[r];else{if(l[r]!==t)return s=l[r],!1;if(!e.isPlainObject(l[o])||n==a)return l[o]!==t&&(s=l[o],!1);l=l[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==t&&(c=s),Array.isArray(r)?r.push(c):r!==t?r=[r,c]:c!==t&&(r=c),s}},g?(R===t&&F.initialize(),F.invoke(f)):(R!==t&&R.invoke("destroy"),F.initialize())}),r!==t?r:this},e.fn.modal.settings={name:"Modal",namespace:"modal",useFlex:"auto",offset:0,silent:!1,debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,restoreFocus:!0,inverted:!1,blurring:!1,centered:!0,dimmerSettings:{closable:!1,useCSS:!0},keyboardShortcuts:!0,context:"body",queue:!1,duration:500,transition:"scale",padding:50,scrollbarWidth:10,onShow:function(){},onVisible:function(){},onHide:function(){return!0},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal",dimmer:"> .ui.dimmer",bodyFixed:"> .ui.fixed.menu, > .ui.right.toast-container, > .ui.right.sidebar"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",inverted:"inverted",legacy:"legacy",loading:"loading",scrolling:"scrolling",undetached:"undetached",front:"front"}}}(jQuery,window,document);